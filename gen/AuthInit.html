<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Authentication</title>
    <link rel="stylesheet" href="../seq.css" />
    <script src="https://cdn.rawgit.com/knsv/mermaid/0.4.0/dist/mermaid.full.js"></script>
    <script>
        var mermaid_config = {
            startOnLoad:true,
            htmlLabels:true
        }
        mermaid.sequenceConfig = {
            diagramMarginX:50,
            diagramMarginY:10,
            boxTextMargin:5,
            noteMargin:10,
            messageMargin:35,
            mirrorActors:true,
            width:150,
            // Height of actor boxes
            height:30
        };
    </script>
</head>
<body>

<div class="mermaid">
sequenceDiagram
    User->>DLCS: GET /protected
    DLCS->>DLCS: Show Login
    DLCS->>Customer: Redirect
    User->>Customer: Authenticate
    Customer->>DLCS: redirect with token
    DLCS->>Customer: Acquire user and roles
    DLCS->>User: Set Cookie with Roles
    User->>DLCS: GET /protected
    DLCS->>Image Database: Match roles
    DLCS->>User: 200 OK
</div>

<script>

    if(location.search.indexOf('nav') != -1)
    {
        document.write('<hr/><p><a href="../index.html">Return to list of diagrams</a><br/>');
	document.write('<a href="../png/AuthInit.png">PNG version</a></p>');	
    }

</script>
</body>
</html>
